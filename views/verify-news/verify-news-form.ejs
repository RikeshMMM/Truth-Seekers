<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../partials/head %>

    <!-- add to document <head> -->
    <link href="https://unpkg.com/filepond/dist/filepond.css" rel="stylesheet">
    <link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet">
    
    <!-- add before </body> -->
    <script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
    <script src="https://unpkg.com/filepond/dist/filepond.js"></script>
</head>
<body class="container">

<header>
    <% include ../partials/header %>
</header>

<main>
    <!-- Container starts -->
    <div class="container">
        <!-- Verify news form section starts -->
        <div class="verify-news-form-section">
            <!-- Section header starts -->
            <div class="section-header mb-5">
                <!-- Section description starts -->
                <div class="section-description mb-3">
                    <h1 class="mb-0">Verify News Article</h1>
                    <p class="mb-0 text-ct-secondary">Check if a news article or a social media forward is from a trusted source or not.</p>
                </div>
                <!-- Section description ends -->
            </div>
            <!-- Section header ends -->
            <!-- Verify news form starts -->
            <div class="verify-news-form mb-5">
                <h4 class="text-ct-secondary">Search By</h4>
                <ul class="nav nav-pills nav-fill mb-3" id="pills-tab" role="tablist">
                    <li class="nav-item">
                      <a class="nav-link btn-lg active" id="text-search-tab" data-toggle="pill" href="#text-search" role="tab" aria-controls="text-search" aria-selected="true">Text Search</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link btn-lg" id="url-search-tab" data-toggle="pill" href="#url-search" role="tab" aria-controls="url-search" aria-selected="false">URL Search</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link btn-lg" id="image-search-tab" data-toggle="pill" href="#image-search" role="tab" aria-controls="image-search" aria-selected="false">Image Search</a>
                    </li>
                </ul>
                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade show active" id="text-search" role="tabpanel" aria-labelledby="text-search-tab">
                        <form action="verify-news/text" method="post">
                            <div class="form-group">
                                <label for="news-text" class="h4">Text/News article to verify</label>
                                <textarea class="form-control" id="news-text" name="newsText" rows="5"></textarea>
                            </div>
                            <button type="submit" class="btn btn-block btn-lg btn-ct-green">Submit</button>
                        </form>
                    </div>
                    <!-- TODO: URL form validation -->
                    <div class="tab-pane fade" id="url-search" role="tabpanel" aria-labelledby="url-search-tab">
                        <form action="verify-news/url" method="post">
                            <div class="form-group">
                                <label for="news-url" class="h4">URL of the article to verify</label>
                                <input class="form-control form-control-lg" id="news-url" name="newsUrl" type="text">
                              </div>
                            <button type="submit" id="URLSubmit" class="btn btn-block btn-lg btn-ct-green">Submit</button>
                        </form>
                    </div>
                    <div class="tab-pane fade" id="image-search" role="tabpanel" aria-labelledby="image-search-tab">
                        <form action="" method="post">
                            <input type="file" class="filepond" name="newsImage">
                            <button type="submit" class="btn btn-block btn-lg btn-ct-green">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Verify news form ends -->
        </div>
        <!-- Verify news form section ends -->
    </div>
    <!-- Container ends -->
</main>

<script>
    // Register the plugin
    FilePond.registerPlugin(FilePondPluginImagePreview);

    // Initialize file pond
    const inputElement = document.querySelector('.filepond');
    const pond = FilePond.create(inputElement, {
        maxFiles: 1,
        allowMultiple: false
    });
</script>

<footer>
    <% include ../partials/footer %>
</footer>

</body>
</html>